<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>todoList.html</title>
    <script src="https://unpkg.com/vue@2"></script>

</head>
<style>
    @font-face {
        font-family: 'GangwonEdu_OTFBoldA';
        src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2201-2@1.0/GangwonEdu_OTFBoldA.woff') format('woff');
        font-weight: normal;
        font-style: normal;
    }

    * {
        font-family: 'GangwonEdu_OTFBoldA';
       
    }

    .done-style {
        text-decoration: line-through;
        color: lightgray;
    }
   
</style>

<body>
    <h2  style="text-align: center;">ğŸ“To Do ListğŸ“</h2>
    <div id="app">
        <div v-for="todo in todos" style="text-align: left;">
            <!--todosê°€ ê°€ì§€ê³  ìˆëŠ” ìš”ì†Œë§Œí¼ ë°˜ë³µ ë˜ì–´ì•¼í•¨ -->
            <label>
                <input type="checkbox" v-model="todo.done">
                <!--true, falseê°’ì´ ì§€ì •ë ê³³-->
                <span v-bind:class="{'done-style':todo.done}">{{todo.text}} / ì™„ë£Œì¼:{{todo.doneDate}}</span> <!-- í´ë˜ìŠ¤ë¥¼ ì§€ì •í•´ì¤˜ì„œ cssê°€ ë“¤ì–´ê°€ê²Œ í•¨-->
            </label>
        </div>
        <input type="text" v-model="addText" v-on:keyup.enter="addToDo" placeholder="í•  ì¼"> <!-- keyup.enter : ì—”í„°ê°€ ëˆŒë ¤ì¡Œì„ë•Œ ì‹¤í–‰í•˜ê² ë‹¤ -->
        <input type="text" v-model="addDate" v-on:keyup.enter="addDateFnc" placeholder="ì™„ë£Œì¼(yyyyMMddí˜•ì‹)">
        <p>
            <button v-on:click="clearToDo">ì²˜ë¦¬ ì™„ë£Œ ì‚­ì œ</button>
            <button v-on:click="sortDate">ì™„ë£Œì¼ ì •ë ¬</button>
            
        </p>
        
        <p style="text-align: center;">ğŸ”¥{{remaining}}ê±´ ì¤‘ {{todos.length}}ê±´ í•  ì¼ ë‚¨ìŒğŸ”¥</p>  <!--false ê°’ì„ ê³„ì‚°í•´ì„œ ë„£ì–´ì¤Œ-->
    </div>

    <script>
        new Vue({
            el: '#app',
            data: {
                todos: [
                    {done: false, text: 'vue ê³µë¶€í•˜ê¸°'},
                    {done: false, text: 'JS ë°•ì‚´ë‚´ê¸°'},
                    {done: true, text: 'Java ë¿Œìˆ˜ê¸°',doneDate:'20231231'},

                ],
                addText: 'ğŸ“',
                addDate:'20230113'
            },
            methods: {
                //ğŸ“í• ì¼ inputì— ì…ë ¥í•˜ê³  ì—”í…Œ ëˆ„ë¥´ë©´ ê°’ì´ ë“¤ì–´ê°€ëŠ” í•¨ìˆ˜
                addToDo:function() {  //addText ì— ê°’ì´ ë“¤ì–´ê°€ë©´ todosì— ê°’ì„ ì¶”ê°€í•¨ -> ê°ì²´ íƒ€ì…ìœ¼ë¡œ ë“¤ì–´ê°€ì•¼í•¨ 
                    this.todos.push({done:false, text: this.addText})
                    this.addText ='';
                },
                //ğŸ“ì²˜ë¦¬ ì™„ë£Œ ì‚­ì œ ë²„íŠ¼ ëˆ„ë¥´ë©´ ì‚­ì œ ë˜ëŠ” í•¨ìˆ˜ 
                clearToDo:function(){
                    this.todos = this.todos.filter(todo =>{
                        return todo.done == false;
                    })
                    //filterë¡œ doneìƒíƒœê°€ flaseì¸ ê²ƒì„ ë½‘ì•„ë‚´ê³  ê·¸ê²ƒë“¤ì„ ë‹¤ì‹œ todosì— ë‹´ì•„ì¤˜ì•¼ì§€
                    //ìƒíƒœê°€ falseì¸ ê²ƒì„ ì§€ìš´ ìƒíƒœì˜ í™”ë©´ì„ ê·¸ë ¤ì¤„ìˆ˜ìˆìŒ
                },
                //ğŸ“ì™„ë£Œì¼ inputì— ì…ë ¥í•˜ê³  ì—”í„° ëˆ„ë¥´ë©´ í• ì¼, ì™„ë£Œì¼ ë“¤ì–´ê°€ë„ë¡
                addDateFnc:function(){
                    if(this.addText == ''){
                        alert('ğŸ’¥í• ì¼ì„ ì…ë ¥í•˜ì„¸ìš¥ğŸ’¥')
                        console.log(document.querySelector('input[placeholder="í• ì¼"]'))
                        document.querySelector('input[placeholder="í•  ì¼"]').focus()
                    }else{

                        this.todos.push({done:true, text: this.addText,doneDate: this.addDate})
                        this.addDate='';
                        this.addText='';
                
                    }
                },
                //ğŸ“ì™„ë£Œì¼ ì •ë ¬ ë²„íŠ¼ ëˆ„ë¥´ë©´ ì™„ë£Œì¼ ê¸°ì¤€ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬ ë˜ë„ë¡
                sortDate:function(){
                    return this.todos.sort(function(first,second){
                        // if(first.doneDate < second.doneDate)
                        // return -1
                        // else
                        // return 1
                        return parseInt(first.doneDate) - parseInt(second.doneDate)
                    })
                }

            },
            computed:{
                //ğŸ“í•  ì¼ì´ ëª‡ê±´ ë‚¨ì•˜ëŠ”ì§€ ì•Œë ¤ì£¼ëŠ” ë©”ì„œë“œ
                remaining:function(){
                    return this.todos.filter(todo => {
                        return !todo.done;  //ì†ì„±ì´ falseì¸ ê°’ì„ ë„˜ê²¨ì¤Œ -> filterëŠ” falseì¸ ê°’ì„ ëª¨ì•„ë†“ì€ ë°°ì—´ì„ ë§Œë“¬
                    }).length  //í•„í„°ì—ì„œ ê±¸ëŸ¬ì§„ falseì˜ ê°œìˆ˜ë¥¼ ë‹´ì€ ë°°ì—´ì˜ ê°œìˆ˜(length)ë¥¼ ì¶œë ¥í•´ì¤Œ  
                }
            }
        })
    </script>
</body>

</html>
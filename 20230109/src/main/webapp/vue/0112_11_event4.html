<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>event4.html</title>
    <script src="https://cdn.jsdelivr.net/npm/vue@2"></script>

</head>

<body>
    <!-- watch :ì†ì„±ì„ ê°ì‹œí•˜ê³  ìˆë‹¤ê°€ íŠ¹ì • ê²½ìš°ê°€ ë˜ë©´ ìƒíƒœê°€ ë°œë™ì´ ë¨.-->
    <div id="app">
        <!-- <input type="text" v-model="forbidText"> -->
        <input type="text" v-model="forbidText2">
        <textarea name="" id="" cols="30" rows="3" v-model="inputTxt" v-bind:disabled="writable"></textarea>
        <p>{{inputTxt}}</p>
        <!-- <input type="text" v-model.number="restTime"> -->
        <p>ë‚¨ì€ ì‹œê°„ {{restTime}}</p>
        <button v-on:click="startTimer">ì‹œì‘</button>



    </div>
    <script>
        new Vue({
            el: '#app',
            data: {
                inputTxt: '',
                // forbidText:'',
                forbidText2: [],
                restTime: 5,
                writable: false,
                timer: '',
            },
            watch: { //ê°ì‹œí•˜ëŠ” ëŒ€ìƒì„ ì ì–´ì¤Œ 
                //ğŸ“input ë°•ìŠ¤ì— ë“¤ì–´ì˜¤ëŠ” ë‹¨ì–´ë¥¼ ì…ë ¥ í• ìˆ˜ ì—†ê²Œ í•˜ê¸° 
                // inputTxt: function(){
                //     let pos = this.inputTxt.indexOf(this.forbidText)
                //     if(pos != -1){
                //         alert(this.forbidText +'ëŠ” ì…ë ¥í•  ìˆ˜ ì—†ëŠ” ë‹¨ì–´ì…ë‹ˆë‹¤')
                //         this.inputTxt = this.inputTxt.substring(0,pos)

                //     }
                // },
                //ê¸ˆì§€ì–´ë¥¼ ì—¬ëŸ¬ê°œ ë§Œë“¤ê¸°-> ë°°ì—´ë¡œ ìƒê°í•´ì„œ ë°˜ë³µë¬¸ì„ ëŒë ¤ì„œ í•˜ë©´ë¨
                // ë¬¸ìì—´ì„ ë°°ì—´ë¡œ ë³€ê²½ í•´ì£¼ëŠ” => split(êµ¬ë¶„ì)  : êµ¬ë¶„ìë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë°°ì—´ì„ ë§Œë“¤ì–´ì¤Œ 
                inputTxt: function () {
                    let txtAry = this.forbidText2.split(',')
                    let pos = this.inputTxt.indexOf(this.txtAry)
                    for (let i = 0; i < this.txtAry.length; i++) {
                        
                    }
                },

                //ğŸ“íƒ€ì´ë¨¸ì˜ ì‹œê°„ì´ ëë‚˜ë©´ textareaì°½ ë§‰ê¸° 
                restTime: function () {
                    if (this.restTime == 0) {
                        console.log('rest call')
                        this.writable = true
                        clearInterval(this.timer)
                    }
                }
            },
            methods: {
                //ğŸ“íƒ€ì´ë¨¸:restTimeì˜ ì‹œê°„ 1ì´ˆì”© ê°ì†Œ ì‹œì¼œê¸° 
                startTimer: function () {
                    //this -> function() {this:windowì „ì—­ê°ì²´}
                    //this -> eventHandler {this: eventëŒ€ìƒ}
                    this.timer = setInterval(() => {
                        // console.log('timer')
                        this.restTime--
                        // console.log(restTime)
                    }, 1000)
                    // return this.timer;
                }

            }
        })
    </script>
</body>

</html>
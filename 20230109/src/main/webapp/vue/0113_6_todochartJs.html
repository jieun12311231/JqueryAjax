<!DOCTYPE html>
<html>
  <head>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
        let originData= [
          ['메뉴', '투표수'],
          ['포케🥗',     11],
          ['치킨🍗',      8],
          ['닭갈비',    5],
          ['갈비탕🍖',   6],
          ['짜장면',    2],
          ['라멘🍜',      3]
        ]
      

      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);

      function drawChart() {

        var data = google.visualization.arrayToDataTable(originData);

        var options = {
          title: '🥗🍜추천메뉴🥣🍛'
        };

        var chart = new google.visualization.PieChart(document.getElementById('piechart'));

        chart.draw(data, options);
      }
    </script>
  </head>
  <body>
    <div id="piechart" style="width: 900px; height: 500px;"></div>

    <ul id="list"></ul>
    <script>
        let list =document.getElementById('list')

        //
        originData.forEach((item,idx)=>{
            if(idx){

                let li =document.createElement('li')
                let txt = document.createTextNode(item[0] + ' ');  //item : originData 안에 있는 배열 값의 [0] 는 메뉴이름
    
                let btn = document.createElement('button')
                btn.innerText ='✔'
                btn.addEventListener('click',function(){
                    item[1]++  //item의 [1]인 투표수를 증가 시킴
                    drawChart();  //투표수를 증가 시킨 후 그 값으로 차트를 다시 그려줌
                })
                li.append(txt,btn)
                
                list.append(li)
            }
        })

    </script>
  </body>
</html>
